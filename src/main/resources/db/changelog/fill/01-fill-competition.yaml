# https://docs.liquibase.com/change-types/load-data.html
databaseChangeLog:
  - changeSet:
      id: fill-table-competition
      author: Aleksandr
      changes:
        - loadData:
            encoding: UTF-8
            separator: ;
            quotchar: ''''
            usePreparedStatements: true
            tableName: competition
            file: ../../competition.csv
            relativeToChangelogFile: true
            commentLineStartsWith: //
            schemaName: public
            columns:
              # Pay attention on loading data type. If you have some doubts use "other"
              # https://javadocs.liquibase.com/liquibase-core/liquibase/change/core/LoadDataChange.LOAD_DATA_TYPE.html?_ga=2.131077391.1674202242.1698966129-536424592.1698966128
              - column:
                  header: Name
                  name: name
                  type: string
              - column:
                  header: Description
                  name: description
                  type: string
              - column:
                  header: Participants
                  name: participants
                  type: other
              - column:
                  header: Start_date
                  name: start_date
                  type: date
              - column:
                  header: End_date
                  name: end_date
                  type: date
              - column:
                  header: Status
                  name: status
                  type: boolean
              - column:
                  header: Tasks
                  name: tasks
                  type: other
      rollback:
        - sql:
            sql: DELETE FROM competition;